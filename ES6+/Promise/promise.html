<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="promise.js"></script>
  <title>Promise</title>
</head>
<body>
  <script>
    let p = new _Promise((resolve, reject) => {
      let xmlHttp = new XMLHttpRequest()
      
      xmlHttp.onreadystatechange = function(e) {
        if (e.target.status == 200) {
          if (e.target.readyState == 4) {
            resolve(e.target.response)
            console.log('done')
          }
        } else {
          console.log('error')
        }
      }

      xmlHttp.open('GET', 'https://www.easy-mock.com/mock/58ff34155e43ae5dbea5fada/chart-datas/visit-times')
      xmlHttp.send()
    })
  </script>
</body>
</html>